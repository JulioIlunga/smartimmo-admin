{% extends 'base.html.twig' %}

{% block title %}
    Smart-Immo | Se connecter
{% endblock %}

{% block body %}
    {% if error %}
        <div class="alert alert-danger alert-dismissible fade show mt-3 shadow-lg rounded-4" role="alert"
             style="background-color:#8B0000; color:white; border:1px solid #500000;">
            <i class="mdi mdi-alert-circle-outline me-2"></i>
            {{ error.messageKey|trans(error.messageData, 'security') }}
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert" aria-label="Fermer"></button>
        </div>
    {% endif %}


    <!-- Section Email Start -->
    <div class="section-display">
        <!-- container Start -->
        <div class="container">
            <!-- Sign Up Form -->
            <div class="d-flex justify-content-center">
                <div class="header-body text-center py-5">
                    <h2 class="fw-bold">Connectez-vous pour commencer</h2>
                    <p class="small text-muted mb-4">Entrez vos coordonnées pour continuer</p>
                    {#                    {% if error %}#}
                    {#                        <div class="alert alert-danger">Identifiants invalides.</div>#}
                    {#                    {% endif %}#}
                    <form method="post">
                        <div class="form-floating mb-3 d-flex align-items-end px-3 py-1 border rounded-3">
                            <input type="text" class="form-control border-0 px-0" value="{{ last_username }}" id="username" name="_username" autocomplete="username" required autofocus>
                            <span class="my-auto mdi mdi-phone"></span>
                            <label for="username" class="text-muted px-3 mt-1">No. Téléphone Ex : 980 333 346</label>
                        </div>
                        <div class="form-floating mb-3 d-flex align-items-end px-3 py-1 border rounded-3">
                            <input type="password" class="form-control border-0 px-0" placeholder="password" id="password" name="_password" autocomplete="current-password" required>
                            <span class="my-auto mdi mdi-lock text-muted"></span>
                            <label for="password" class="text-muted px-3 mt-1">Mot de passe</label>
                        </div>
                        <div class="d-flex align-items-center">
                            <div class="ms-auto">
                                <a href="{{ path('app_reset_password') }}" class="text-danger small">Mot de passe oublié</a>
                            </div>
                        </div>
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                        <button type="submit" class="btn btn-danger text-uppercase fw-bold w-100 py-3 rounded-9 mt-3">Se connecter</button>
                    </form>
                    <!-- Other Source for Sign Up -->
                    <div class="d-flex align-items-center py-3">
                        <hr class="w-50">
                        <p class="small text-muted mb-0 mx-3">Òu</p>
                        <hr class="w-50">
                    </div>
                    <!-- Other Links -->
                    <div class="sign-links">
                        <a href="{{ path('app_sign_up') }}" class="btn bg-white rounded-9 text-muted border w-100 py-3 px-4 d-flex align-items-center mb-2"><span class="mdi mdi-account-plus fw-bold"></span> <span class="mx-auto">Créer un nouveau compte</span></a>
                    </div>
                </div>
            </div>
            <!-- Sign Up Form -->
        </div>
        <!-- container End -->
    </div>



    {#    <form method="post">#}
    {#        {% if error %}#}
    {#            <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>#}
    {#        {% endif %}#}

    {#        {% if app.user %}#}
    {#            <div class="mb-3">#}
    {#                You are logged in as {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}">Logout</a>#}
    {#            </div>#}
    {#        {% endif %}#}

    {#        <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>#}
    {#        <label for="username">Phone</label>#}
    {#        <input type="text" value="{{ last_username }}" name="_username" id="username" class="form-control" autocomplete="username" required autofocus>#}
    {#        <label for="password">Password</label>#}
    {#        <input type="password" name="_password" id="password" class="form-control" autocomplete="current-password" required>#}

    {#        <input type="hidden" name="_csrf_token"#}
    {#               value="{{ csrf_token('authenticate') }}"#}
    {#        >#}

    {#
    Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
    See https://symfony.com/doc/current/security/remember_me.html

    <div class="checkbox mb-3">
        <input type="checkbox" name="_remember_me" id="_remember_me">
        <label for="_remember_me">Remember me</label>
    </div>
    #}

    {#        <button class="btn btn-lg btn-primary" type="submit">#}
    {#            Sign in#}
    {#        </button>#}
    {#    </form>#}
{% endblock %}
